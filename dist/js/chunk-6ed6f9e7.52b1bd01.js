(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ed6f9e7"],{"4ac7":function(t,e,s){},b347:function(t,e,s){"use strict";var n=s("4ac7"),a=s.n(n);a.a},cdc7:function(t,e,s){t.exports=s.p+"img/alipay.40bee53c.jpg"},cf05:function(t,e,s){t.exports=s.p+"img/logo.9be6bc8a.png"},d079:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"div-relative ",attrs:{id:"band"}},[n("nav",{staticClass:"navbar  bg-primary fixed-top navbar-transparent ",attrs:{"color-on-scroll":"400"}},[n("div",{staticClass:"container"},[n("div",[n("a",{staticClass:"navbar-brand"},[t._v("\n          "+t._s(t.$t("version"))+": v2.1.6\n        ")]),t.switchCode?n("Button",{attrs:{type:"default",ghost:""},on:{click:function(e){t.register=!0}}},[t._v(" "+t._s(t.$t("sign")))]):t._e()],1),n("div",[n("ul",[n("li",[n("Button",{attrs:{type:"default",ghost:""},on:{click:function(e){t.sponsorship=!0}}},[t._v(t._s(t.$t("sponsor")))])],1),n("li",[n("div",{staticStyle:{"margin-left":"50%"}},[n("a",{attrs:{href:"https://github.com/cookieY/Yearning",target:"_blank"}},[n("Icon",{attrs:{type:"logo-github",size:"30"}})],1)])])])])])]),n("div",{staticClass:"page-header div-a",attrs:{"filter-color":"orange"}},[n("div",{staticClass:"page-header-image"}),n("div",{staticClass:"container"},[n("div",{staticClass:"content-center"},[n("div",{staticClass:"card"},[n("form",{staticStyle:{width:"45%","margin-left":"25%"}},[n("img",{attrs:{src:s("cf05"),width:"80%"}}),n("div",{staticClass:"input-group form-group-no-border input-lg"},[n("span",{staticClass:"input-group-addon"},[n("Icon",{attrs:{type:"md-person"}})],1),n("input",{directives:[{name:"model",rawName:"v-model",value:t.formInline.user,expression:"formInline.user"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("account")},domProps:{value:t.formInline.user},on:{input:function(e){e.target.composing||t.$set(t.formInline,"user",e.target.value)}}})]),n("div",{staticClass:"input-group form-group-no-border input-lg"},[n("span",{staticClass:"input-group-addon"},[n("Icon",{attrs:{type:"md-key"}})],1),n("input",{directives:[{name:"model",rawName:"v-model",value:t.formInline.password,expression:"formInline.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:t.$t("password")},domProps:{value:t.formInline.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.authdata(e)},input:function(e){e.target.composing||t.$set(t.formInline,"password",e.target.value)}}})]),n("div",{staticClass:"footer text-center"},[n("Checkbox",{model:{value:t.single,callback:function(e){t.single=e},expression:"single"}},[t._v(" "+t._s(t.$t("ldap")))]),n("a",{staticClass:"btn btn-primary btn-round btn-lg btn-block",attrs:{href:"#pablo"},on:{click:function(e){return t.authdata()}}},[t._v("\n                "+t._s(t.$t("login")))])],1)])])])]),n("footer",{staticClass:"footer"},[n("div",{staticClass:"container"},[n("nav",[n("ul",[n("li",[n("Tooltip",{attrs:{content:"yearning.io",placement:"top-start"}},[n("a",{staticClass:"nav-link",attrs:{href:"https://yearning.io"}},[t._v("\n                  "+t._s(t.$t("about"))+"\n                ")])])],1),n("li",[n("Tooltip",{attrs:{content:t.$t("community_addr"),placement:"top-start"}},[n("span",{staticClass:"nav-link"},[t._v("\n                  "+t._s(t.$t("community"))+"\n                ")])])],1),n("li",[n("a",{staticClass:"nav-link",attrs:{href:"https://www.gnu.org/licenses/agpl-3.0.en.html"}},[t._v("\n                "+t._s(t.$t("license"))+"\n              ")])])])]),n("div",{staticClass:"copyright"},[t._v(" "+t._s(t.$t("tips")))])])])]),n("Modal",{attrs:{title:t.$t("sign"),"ok-text":t.$t("sign"),"mask-closable":!1},on:{"on-ok":t.LoginRegister},model:{value:t.register,callback:function(e){t.register=e},expression:"register"}},[n("Form",{ref:"userinfova",attrs:{model:t.userinfo,rules:t.userinfoValidate}},[n("FormItem",{attrs:{label:t.$t("sign_userInfo")["username"],prop:"username"}},[n("Input",{model:{value:t.userinfo.username,callback:function(e){t.$set(t.userinfo,"username",e)},expression:"userinfo.username"}})],1),n("FormItem",{attrs:{label:t.$t("sign_userInfo")["password"],prop:"password"}},[n("Input",{attrs:{type:"password"},on:{"on-keyup":function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.authdata()}},model:{value:t.userinfo.password,callback:function(e){t.$set(t.userinfo,"password",e)},expression:"userinfo.password"}})],1),n("FormItem",{attrs:{label:t.$t("sign_userInfo")["confirm"],prop:"confirmpassword"}},[n("Input",{attrs:{type:"password"},model:{value:t.userinfo.confirmpassword,callback:function(e){t.$set(t.userinfo,"confirmpassword",e)},expression:"userinfo.confirmpassword"}})],1),n("FormItem",{attrs:{prop:"realname",label:t.$t("sign_userInfo")["real"]}},[n("Input",{model:{value:t.userinfo.realname,callback:function(e){t.$set(t.userinfo,"realname",e)},expression:"userinfo.realname"}})],1),n("FormItem",{attrs:{prop:"department",label:t.$t("sign_userInfo")["department"]}},[n("Input",{model:{value:t.userinfo.department,callback:function(e){t.$set(t.userinfo,"department",e)},expression:"userinfo.department"}})],1),n("FormItem",{attrs:{prop:"email",label:t.$t("sign_userInfo")["mail"]}},[n("Input",{model:{value:t.userinfo.email,callback:function(e){t.$set(t.userinfo,"email",e)},expression:"userinfo.email"}})],1)],1)],1),n("Modal",{attrs:{title:t.$t("sponsor_title"),width:"640"},model:{value:t.sponsorship,callback:function(e){t.sponsorship=e},expression:"sponsorship"}},[n("h3",[t._v(" "+t._s(t.$t("sponsor_1")))]),t._v("\n    "+t._s(t.$t("sponsor_2"))+"\n    "),n("br"),n("br"),n("h3",[t._v(t._s(t.$t("sponsor_3")))]),t._v("\n    "+t._s(t.$t("sponsor_4"))+"\n    "),n("br"),n("br"),n("h3",[t._v(t._s(t.$t("sponsor_5")))]),t._v("\n    "+t._s(t.$t("sponsor_6"))+"\n    "),n("br"),t._v("\n    "+t._s(t.$t("sponsor_7"))+"\n    "),n("br"),n("img",{attrs:{height:"300",width:"300",src:s("cdc7")}}),n("img",{attrs:{height:"300",width:"300",src:s("e660")}})])],1)},a=[],r=s("bc3a"),i=s.n(r),o={name:"Login",data:function(){var t=this,e=function(e,s,n){s!==t.userinfo.password?n(new Error(t.$t("sign_up_validate")["twice"])):n()},s=function(e,s,n){var a=/^.*(?=.{6,})(?=.*\d)(?=.*[A-Z])(?=.*[a-z]).*$/;a.test(t.userinfo.password)?n():n(new Error(t.$t("sign_up_validate")["regexp"]))};return{single:!1,switchCode:!1,sponsorship:!1,register:!1,userinfo:{username:"",password:"",confirmpassword:"",email:"",realname:"",department:""},userinfoValidate:{username:[{required:!0,message:this.$t("sign_up_validate")["username"],trigger:"blur"}],password:[{required:!0,message:this.$t("sign_up_validate")["password"],trigger:"blur"},{min:6,message:this.$t("sign_up_validate")["min"],trigger:"blur"},{max:32,message:this.$t("sign_up_validate")["max"],trigger:"blur"},{validator:s,trigger:"blur"}],confirmpassword:[{required:!0,message:this.$t("sign_up_validate")["confirm"],trigger:"blur"},{validator:e,trigger:"blur"}],realname:[{required:!0,message:this.$t("sign_up_validate")["real"],trigger:"blur"}],department:[{required:!0,message:this.$t("sign_up_validate")["department"],trigger:"blur"}],email:[{required:!0,message:this.$t("sign_up_validate")["mail"],trigger:"blur"},{type:"email",message:this.$t("sign_up_validate")["mail_format"],trigger:"blur"}]},formInline:{user:"",password:""}}},methods:{LoginRegister:function(){var t=this;this.$refs["userinfova"].validate(function(e){e?i.a.post(t.$config.register,{userinfo:t.userinfo}).then(function(e){t.$config.notice(e.data),t.$config.clearObj(t.userinfo)}).catch(function(e){t.$config.err_notice(t,e)}):t.$config.err_notice(t,t.$t("sign_up_validate")["sign_fail"])})},authdata:function(){var t=this,e=this.$config.auth;!0===this.single&&(e="".concat(this.$config.gen,"/ldap")),i.a.post(e,{username:this.formInline.user,password:this.formInline.password}).then(function(e){i.a.defaults.headers.common["Authorization"]="Bearer "+e.data.token,sessionStorage.setItem("user",t.formInline.user),sessionStorage.setItem("jwt","Bearer ".concat(e.data.token)),sessionStorage.setItem("auth",e.data["permissions"]),sessionStorage.setItem("real_name",e.data["real_name"]);var s=e.data["permissions"];"admin"===s||"perform"===s?sessionStorage.setItem("access",0):sessionStorage.setItem("access",1),t.$router.push({name:"home_index"})}).catch(function(e){t.$config.auth_notice(e)})}},mounted:function(){var t=this;window.particlesJS.load("band","".concat("/","particlesjs-config.json")),i.a.get("".concat(this.$config.gen,"/fetch")).then(function(e){1===e.data&&(t.switchCode=!0)}).catch(function(e){return t.$config.auth_notice(e)})}},l=o,u=(s("b347"),s("2877")),c=Object(u["a"])(l,n,a,!1,null,"d64ec6f4",null);e["default"]=c.exports},e660:function(t,e,s){t.exports=s.p+"img/wechat.adf7f4f7.jpg"}}]);
//# sourceMappingURL=chunk-6ed6f9e7.52b1bd01.js.map