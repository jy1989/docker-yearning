{"version":3,"sources":["webpack:///./src/views/order/dmlOrder.vue?1490","webpack:///./src/views/order/dmlOrder.vue?4197","webpack:///src/views/order/dmlOrder.vue","webpack:///./src/views/order/dmlOrder.vue?9990","webpack:///./src/views/order/dmlOrder.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","slot","_v","staticClass","ref","formItem","ruleValidate","on","fetchSource","model","value","callback","$$v","$set","expression","_l","fetchData","i","key","_s","fetchBase","fetchTable","item","invalidDate","$event","delay","nativeOn","clearForm","loading","testSql","beauty","validate_gen","commitOrder","editorInit","setCompletions","testColumns","Testresults","staticRenderFns","component"],"mappings":"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","file":"js/chunk-aecabcaa.cf61f455.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dmlOrder.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dmlOrder.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Row',[_c('Col',{attrs:{\"span\":\"6\"}},[_c('Card',[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('Icon',{attrs:{\"type\":\"ios-redo\"}}),_vm._v(\"\\n          选择数据库\\n        \")],1),_c('div',{staticClass:\"edittable-test-con\"},[_c('div',{staticClass:\"margin-bottom-10\",attrs:{\"id\":\"showImage\"}},[_c('Form',{ref:\"formItem\",attrs:{\"model\":_vm.formItem,\"rules\":_vm.ruleValidate,\"label-width\":80}},[_c('FormItem',{attrs:{\"label\":\"环境:\",\"prop\":\"idc\"}},[_c('Select',{on:{\"on-change\":_vm.fetchSource},model:{value:(_vm.formItem.idc),callback:function ($$v) {_vm.$set(_vm.formItem, \"idc\", $$v)},expression:\"formItem.idc\"}},_vm._l((_vm.fetchData.idc),function(i){return _c('Option',{key:i,attrs:{\"value\":i}},[_vm._v(_vm._s(i))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"连接名:\",\"prop\":\"source\"}},[_c('Select',{on:{\"on-change\":_vm.fetchBase},model:{value:(_vm.formItem.source),callback:function ($$v) {_vm.$set(_vm.formItem, \"source\", $$v)},expression:\"formItem.source\"}},_vm._l((_vm.fetchData.source),function(i){return _c('Option',{key:i,attrs:{\"value\":i}},[_vm._v(_vm._s(i)+\"\\n                  \")])}),1)],1),_c('FormItem',{attrs:{\"label\":\"库名:\",\"prop\":\"database\"}},[_c('Select',{attrs:{\"placeholder\":\"请选择\"},on:{\"on-change\":_vm.fetchTable},model:{value:(_vm.formItem.database),callback:function ($$v) {_vm.$set(_vm.formItem, \"database\", $$v)},expression:\"formItem.database\"}},_vm._l((_vm.fetchData.base),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"工单说明:\",\"prop\":\"text\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入\",\"type\":\"textarea\",\"rows\":4},model:{value:(_vm.formItem.text),callback:function ($$v) {_vm.$set(_vm.formItem, \"text\", $$v)},expression:\"formItem.text\"}})],1),_c('FormItem',{attrs:{\"label\":\"审核人:\",\"prop\":\"assigned\"}},[_c('Select',{attrs:{\"filterable\":\"\"},model:{value:(_vm.formItem.assigned),callback:function ($$v) {_vm.$set(_vm.formItem, \"assigned\", $$v)},expression:\"formItem.assigned\"}},_vm._l((_vm.fetchData.assigned),function(i){return _c('Option',{key:i,attrs:{\"value\":i}},[_vm._v(_vm._s(i))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"是否备份\",\"prop\":\"backup\"}},[_c('RadioGroup',{model:{value:(_vm.formItem.backup),callback:function ($$v) {_vm.$set(_vm.formItem, \"backup\", $$v)},expression:\"formItem.backup\"}},[_c('Radio',{attrs:{\"label\":1}},[_vm._v(\"是\")]),_c('Radio',{attrs:{\"label\":0}},[_vm._v(\"否\")])],1)],1),_c('FormItem',{attrs:{\"label\":\"定时执行\"}},[_c('DatePicker',{attrs:{\"format\":\"yyyy-MM-dd HH:mm\",\"type\":\"datetime\",\"placeholder\":\"选择时间点\",\"options\":_vm.invalidDate,\"editable\":false},on:{\"on-change\":function($event){_vm.formItem.delay=$event}},model:{value:(_vm.formItem.delay),callback:function ($$v) {_vm.$set(_vm.formItem, \"delay\", $$v)},expression:\"formItem.delay\"}})],1)],1),_c('Form',[_c('FormItem',[_c('Col',{staticClass:\"margin-left-10\",attrs:{\"span\":\"5\"}},[_c('Button',{attrs:{\"type\":\"error\",\"icon\":\"md-trash\"},nativeOn:{\"click\":function($event){return _vm.clearForm()}}},[_vm._v(\"重置\\n                  \")])],1),_c('Col',{staticClass:\"margin-left-10\",attrs:{\"span\":\"5\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"md-search\",\"loading\":_vm.loading},nativeOn:{\"click\":function($event){return _vm.testSql()}}},[_vm._v(\"检测\\n                  \")])],1),_c('Col',{staticClass:\"margin-left-10\",attrs:{\"span\":\"5\"}},[_c('Button',{attrs:{\"type\":\"warning\",\"icon\":\"ios-brush\",\"loading\":_vm.loading},nativeOn:{\"click\":function($event){return _vm.beauty()}}},[_vm._v(\"美化\\n                  \")])],1),_c('Col',{staticClass:\"margin-left-10\",attrs:{\"span\":\"5\"}},[_c('Button',{attrs:{\"type\":\"success\",\"icon\":\"ios-redo\",\"disabled\":this.validate_gen},nativeOn:{\"click\":function($event){return _vm.commitOrder()}}},[_vm._v(\"提交\\n                  \")])],1)],1)],1),_c('Alert',[_vm._v(\"检测表字段提示信息\\n              \"),_c('template',{slot:\"desc\"},[_c('p',[_vm._v(\"1.错误等级 0正常,其他均为有问题。\")]),_c('p',[_vm._v(\"2.阶段状态 审核成功\")]),_c('p',[_vm._v(\"3.错误信息 用来表示错误信息\")]),_c('p',[_vm._v(\"4.当前检查的sql\")]),_c('p',[_vm._v(\"注:只有错误等级等于0时提交按钮才会激活\")])])],2)],1)])])],1),_c('Col',{staticClass:\"padding-left-10\",attrs:{\"span\":\"18\"}},[_c('Card',[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('Icon',{attrs:{\"type\":\"ios-crop\"}}),_vm._v(\"\\n          填写sql语句\\n        \")],1),_c('editor',{on:{\"init\":_vm.editorInit,\"setCompletions\":_vm.setCompletions},model:{value:(_vm.formItem.textarea),callback:function ($$v) {_vm.$set(_vm.formItem, \"textarea\", $$v)},expression:\"formItem.textarea\"}}),_c('br'),_c('br'),_c('Table',{attrs:{\"columns\":_vm.testColumns,\"data\":_vm.Testresults,\"highlight-row\":\"\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<style lang=\"less\">\n  @import \"../../styles/common.less\";\n  @import \"../../styles/table.less\";\n</style>\n\n<template>\n  <div>\n    <Row>\n      <Col span=\"6\">\n        <Card>\n          <p slot=\"title\">\n            <Icon type=\"ios-redo\"></Icon>\n            选择数据库\n          </p>\n          <div class=\"edittable-test-con\">\n            <div id=\"showImage\" class=\"margin-bottom-10\">\n              <Form ref=\"formItem\" :model=\"formItem\" :rules=\"ruleValidate\" :label-width=\"80\">\n                <FormItem label=\"环境:\" prop=\"idc\">\n                  <Select v-model=\"formItem.idc\" @on-change=\"fetchSource\">\n                    <Option v-for=\"i in fetchData.idc\" :key=\"i\" :value=\"i\">{{i}}</Option>\n                  </Select>\n                </FormItem>\n\n                <FormItem label=\"连接名:\" prop=\"source\">\n                  <Select v-model=\"formItem.source\" @on-change=\"fetchBase\">\n                    <Option\n                            v-for=\"i in fetchData.source\"\n                            :value=\"i\"\n                            :key=\"i\"\n                    >{{ i }}\n                    </Option>\n                  </Select>\n                </FormItem>\n\n                <FormItem label=\"库名:\" prop=\"database\">\n                  <Select v-model=\"formItem.database\" placeholder=\"请选择\" @on-change=\"fetchTable\">\n                    <Option v-for=\"item in fetchData.base\" :value=\"item\" :key=\"item\">{{item}}</Option>\n                  </Select>\n                </FormItem>\n\n                <FormItem label=\"工单说明:\" prop=\"text\">\n                  <Input v-model=\"formItem.text\" placeholder=\"请输入\" type=\"textarea\" :rows=4></Input>\n                </FormItem>\n\n                <FormItem label=\"审核人:\" prop=\"assigned\">\n                  <Select v-model=\"formItem.assigned\" filterable>\n                    <Option v-for=\"i in fetchData.assigned\" :value=\"i\" :key=\"i\">{{i}}</Option>\n                  </Select>\n                </FormItem>\n\n                <FormItem label=\"是否备份\" prop=\"backup\">\n                  <RadioGroup v-model=\"formItem.backup\">\n                    <Radio :label=1>是</Radio>\n                    <Radio :label=0>否</Radio>\n                  </RadioGroup>\n                </FormItem>\n\n                <FormItem label=\"定时执行\">\n                  <DatePicker format=\"yyyy-MM-dd HH:mm\" type=\"datetime\" placeholder=\"选择时间点\" :options=\"invalidDate\"\n                              v-model=\"formItem.delay\" @on-change=\"formItem.delay=$event\"\n                              :editable=\"false\"></DatePicker>\n                </FormItem>\n              </Form>\n              <Form>\n                <FormItem>\n                  <Col span=\"5\" class=\"margin-left-10\">\n                    <Button\n                            type=\"error\"\n                            icon=\"md-trash\"\n                            @click.native=\"clearForm()\"\n                    >重置\n                    </Button>\n                  </Col>\n                  <Col span=\"5\" class=\"margin-left-10\">\n                    <Button type=\"primary\" icon=\"md-search\" @click.native=\"testSql()\" :loading=\"loading\">检测\n                    </Button>\n                  </Col>\n                  <Col span=\"5\" class=\"margin-left-10\">\n                    <Button type=\"warning\" icon=\"ios-brush\" @click.native=\"beauty()\" :loading=\"loading\">美化\n                    </Button>\n                  </Col>\n                  <Col span=\"5\" class=\"margin-left-10\">\n                    <Button\n                            type=\"success\"\n                            icon=\"ios-redo\"\n                            @click.native=\"commitOrder()\"\n                            :disabled=\"this.validate_gen\"\n                    >提交\n                    </Button>\n                  </Col>\n\n                </FormItem>\n              </Form>\n\n              <Alert>检测表字段提示信息\n                <template slot=\"desc\">\n                  <p>1.错误等级 0正常,其他均为有问题。</p>\n                  <p>2.阶段状态 审核成功</p>\n                  <p>3.错误信息 用来表示错误信息</p>\n                  <p>4.当前检查的sql</p>\n                  <p>注:只有错误等级等于0时提交按钮才会激活</p>\n                </template>\n              </Alert>\n            </div>\n          </div>\n        </Card>\n      </Col>\n      <Col span=\"18\" class=\"padding-left-10\">\n        <Card>\n          <p slot=\"title\">\n            <Icon type=\"ios-crop\"></Icon>\n            填写sql语句\n          </p>\n          <editor v-model=\"formItem.textarea\" @init=\"editorInit\" @setCompletions=\"setCompletions\"></editor>\n          <br>\n          <br>\n          <Table :columns=\"testColumns\" :data=\"Testresults\" highlight-row></Table>\n        </Card>\n      </Col>\n    </Row>\n  </div>\n</template>\n<script>\n    import axios from 'axios'\n    import editor from '../../components/editor'\n    import {fetchSth, order} from \"../../libs/mixin\";\n\n    export default {\n        components: {\n            editor: editor\n        },\n        mixins: [fetchSth, order],\n        name: 'SQLsyntax',\n        data() {\n            return {\n                validate_gen: true,\n                formItem: {\n                    text: '',\n                    idc: '',\n                    source: '',\n                    database: '',\n                    table: '',\n                    backup: 1,\n                    assigned: '',\n                    delay: null,\n                    textarea: ''\n                },\n                Testresults: [],\n                item: {},\n                id: null,\n                assigned: [],\n                wordList: [],\n                loading: false\n            }\n        },\n        methods: {\n            beauty() {\n                axios.put(`${this.$config.url}/query/beauty`, {\n                    'sql': this.formItem.textarea\n                })\n                    .then(res => {\n                        this.formItem.textarea = res.data\n                    })\n                    .catch(err => this.$config.err_notice(this, err))\n            },\n            testSql() {\n                this.$refs['formItem'].validate((valid) => {\n                    if (valid) {\n                        this.loading = true;\n                        axios.put(`${this.$config.url}/fetch/test`, {\n                            'source': this.formItem.source,\n                            'database': this.formItem.database,\n                            'sql': this.formItem.textarea,\n                            'isDMl': true\n                        })\n                            .then(res => {\n                                this.Testresults = res.data;\n                                let gen = 0;\n                                this.Testresults.forEach(vl => {\n                                    if (vl.Level !== 0) {\n                                        gen += 1\n                                    }\n                                });\n                                if (gen === 0) {\n                                    this.validate_gen = false\n                                } else {\n                                    this.validate_gen = true\n                                }\n                                this.loading = false\n                            })\n                            .catch(err => {\n                                this.loading = false;\n                                this.$config.err_notice(this, err)\n                            })\n                    } else {\n                        this.$Message.error('请填写具体地址或sql语句后再测试!')\n                    }\n                })\n            },\n            commitOrder() {\n                this.$refs['formItem'].validate((valid) => {\n                    if (valid) {\n                        axios.post(`${this.$config.url}/sql/refer`, {\n                            'ddl': this.formItem,\n                            'sql': this.formItem.textarea,\n                            'ty': 1\n                        })\n                            .then(res => {\n                                this.validate_gen = true;\n                                this.$Notice.success({\n                                    title: '成功',\n                                    desc: res.data\n                                })\n                            })\n                            .catch(error => {\n                                this.validate_gen = true;\n                                this.$config.err_notice(this, error)\n                            })\n                    }\n                })\n            }\n        },\n        mounted() {\n            this.fetchIDC();\n            for (let i of this.$config.highlight.split('|')) {\n                this.wordList.push({'vl': i, 'meta': '关键字'})\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dmlOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dmlOrder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./dmlOrder.vue?vue&type=template&id=86f770ae&\"\nimport script from \"./dmlOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./dmlOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dmlOrder.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}